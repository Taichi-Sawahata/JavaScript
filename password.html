<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Password generator</title>
</head>
<body>
    <h1>パスワード</h1>
    <div>
        <div>テキスト<input type="text" id="str" value="_+%1234567890abcdefghijklmnopqrstuvwxyz"></div>
        <div>生成後<input type="text" id="pass"></div>
        <div><button id="generate">パスワードを生成</button></div>
    </div>
    <script>
        //clickイベント pw生成ボタンをクリックしたとき、以下のファンクションを実行
        //テキストボックスに入力された値(value)を取得
        //空の変数を用意
        //テキストボックスの文字列の長さを取得
        //forで以下を10回ループさせる
        //Mathオブジェクトでlenの乱数を作る
        //0か1、つまり2択にしたいときに*2にして、そのどちらかとイコールのとき
        //boxにテキストボックスの値を10回ランダムにとってくる
        //一回一回ループされるため、文字列が大文字のときもあれば、小文字のときもある
        //boxに入れたものを#passに入れていく
      document.getElementById('generate').onclick = function(){
        let str = document.getElementById('str').value;
        let box ='';
        let len = str.length;
        for(let i=0;i < 10;i++){
            let r = Math.floor(Math.random() * len);
            if(Math.floor(Math.random() * 2)==0){
                //stringオブジェクトのcharAtメソッド、インデックス番号の文字列を取得する
                box += str.charAt(r);
            }else{
                box += str.charAt(r).toUpperCase();
            }
        }
        document.getElementById('pass').value = box;
      }
    </script>
</body>
</html>